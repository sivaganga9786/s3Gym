<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><title>Add Client</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>.preview-img{max-height:100px;margin-top:10px;border-radius:8px;border:1px solid #ddd;display:none;}</style>
</head><body class="bg-light p-4">
<div class="container"><div class="card shadow-sm"><div class="card-body">
<h2 class="text-center mb-4">➕ Add Client</h2>
<form method="POST" enctype="multipart/form-data">
<div class="row"><div class="mb-3 col-md-6"><label>Name</label><input name="name" class="form-control" required></div>
<div class="mb-3 col-md-6"><label>Contact</label><input name="contact" class="form-control" required></div></div>
<div class="mb-3"><label>Goal</label><input name="goal" class="form-control" required></div>
<div class="row"><div class="mb-3 col-md-4"><label>Weight (kg)</label><input name="weight" type="number" step="0.1" min="50" max="110" class="form-control" required></div>
<div class="mb-3 col-md-4"><label>Gender</label><select name="gender" class="form-select" required><option>Male</option><option>Female</option></select></div>
<div class="mb-3 col-md-4"><label>Client Type</label><select name="client_type" id="clientType" class="form-select" onchange="calcFee()" required><option value="">Select</option><option value="student">Student</option><option value="general">General</option></select></div></div>
<div class="mb-3"><label>Monthly Fee (₹)</label><input name="fees" id="fees" class="form-control" readonly></div>
<div class="row"><div class="mb-3 col-md-6"><label>Join Date</label><input name="join_date" id="join_date" class="form-control" type="date" onchange="setDue()" required><small>Due +30 days auto-set.</small></div>
<div class="mb-3 col-md-6"><label>Due Date</label><input name="payment_due_date" id="payment_due_date" type="date" class="form-control" readonly required></div></div>
<div class="mb-3"><label>Profile Image</label><input name="profile_image" type="file" accept="image/*" class="form-control" onchange="preview(this)"><img id="imagePreview" class="preview-img"></div>
<div class="d-flex justify-content-between"><a href="{{ url_for('index') }}" class="btn btn-secondary">← Cancel</a><button class="btn btn-primary">Submit</button></div>
</form></div></div>
<div class="text-center mt-3"><a href="{{ url_for('home') }}" class="btn btn-outline-secondary">Back Home</a></div></div>
<script>
function setDue(){
 const jd=document.getElementById('join_date').value;
 if(jd){const d=new Date(jd);d.setDate(d.getDate()+30);
 document.getElementById('payment_due_date').value=d.toISOString().split('T')[0];}
}
function calcFee(){
 const t=document.getElementById('clientType').value;
 document.getElementById('fees').value = t==='student'?800:t==='general'?1000:'';
}
function preview(i){const f=i.files[0];if(f){const r=new FileReader();
 r.onload=e=>{let img=document.getElementById('imagePreview');img.src=e.target.result;img.style.display='block';};r.readAsDataURL(f);}}
</script></body></html>






<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Client</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
    <div class="container">
        <h2 class="mb-4">Add New Client</h2>
        <form method="POST">
            <div class="mb-3">
                <label>Name</label>
                <input type="text" name="name" class="form-control" required />
            </div>
            <div class="mb-3">
                <label>Contact</label>
                <input type="text" name="contact" class="form-control" required />
            </div>
            <div class="mb-3">
                <label>Fitness Goal</label>
                <input type="text" name="goal" class="form-control" required />
            </div>
            <div class="mb-3">
                <label>Weight (kg)</label>
                <input type="number" name="weight" step="0.1" class="form-control" required />
            </div>
            <div class="mb-3">
                <label>Payment Status</label>
                <select name="payment_status" class="form-control">
                    <option value="Paid">Paid</option>
                    <option value="Pending">Pending</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Add Client</button>
            <a href="/" class="btn btn-secondary">Back</a>
        </form>
    </div>
</body>
</html> -->
